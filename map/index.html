<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Campus Location</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/images/apple-touch-icon.png">
	<link rel="manifest" href="manifest.json">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<link rel="icon" type="image/x-icon" href="/images/favicon.ico">
	<!-- Import Vue.js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/darkreader@4.9.58/darkreader.min.js"></script>
	<style>
		.card-header {
		    background-color: rgb(0, 61, 165);
		    color: white;
		}
		.progress-bar {
		    background-color: rgb(0, 61, 165);
		}
		.row-pad {
		    padding-bottom: 25px;
		}
		.parent { display: -ms-flex; display: -webkit-flex; display: flex; }
		.parent>div { flex:1; }
		
		.row {
		    margin-right: unset !important;
		    margin-left: unset !important;
		}
		
		.container, .container-fluid, .container-lg, .container-md, .container-sm, .container-xl, .container-xxl {
		    padding-right: unset !important;
		    padding-left: unset !important;
		}
		[v-cloak] {
		  display:none;
		}
		
		html, body {
		  overscroll-behavior-y: none;
		}
	</style>
</head>
  <body>
    <div id="app">
	    
	    <div class="row" style="z-index: 99999;position: sticky;background: rgb(0, 61, 165);padding: 10px;top: 0;">
                 <div class="search-wrapper panel-heading col-sm-12">
                     <!--<input class="form-control" type="text" v-model="searchQuery" placeholder="Search" style=" -ms-transform: translateY(-50%); margin: 0; position: absolute; top: 30%;; left: 50%; -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%); width: 90%; " />-->
                    <div class="input-group mb-3" id="searchColomn" style="">
					<input type="text" id="myInput" class="form-control" v-model="searchQuery" placeholder="Search" title="Search" >
						<div class="input-group-append">
							<button type="button" class="btn" id="basic-addon2" style=" background: #0d6efd; " onclick="document.getElementById('myInput').value = '';" @click="clearInput()"><font style=" color: #ffffff; ">X</font></button>
						</div>
					</div>
                </div>    
                                    
            </div>
            <br/>
         
         
	    <div id="lots" class="container-fluid row" v-cloak>
		    <template v-for="loc in resultQuery">
				<div v-if="loc[2]" class="col-xs-12 col-sm-6 col-md-4 col-lg-3 row-pad parent">
				   <div class="card">
				      <h5 class="card-header">
				         {{loc[0]}}
				      </h5>
				      <div class="card-body">
				            <!--<div v-html="'Location: ' + loc[2]"></div>-->
				            <!-- if no pic show map-->
				            <!--map-->
				            <img v-if="!loc[3]" :src="'https://api.mapbox.com/styles/v1/jassmith87/cjyhqzqit14fs1cmjwogd33l2/static/url-https%3A%2F%2Fres.cloudinary.com%2Fglide%2Fimage%2Fupload%2Fv1572388650%2Fglidehq%2Fglide-pin.png(' + loc[100] + ')/' + loc[100] + ',15,0,0/319x300@2x?access_token=pk.eyJ1IjoiamFzc21pdGg4NyIsImEiOiJjanllMWE0Y2owc2k3M2RvY3o3MXlxbDZxIn0.EQJsvDixbUz2naDzTIfE6Q'" loading="lazy" class="img-thumbnail">
				            <!-- map-->
				            <!--loc pic-->
				            <img v-if="loc[3]" :src="loc[3]" loading="lazy" class="img-thumbnail">
				            <!--loc pic-->
				            <br/><br/>
				            <div>{{loc[4]}}</div><br/>
				            <div>{{loc[5]}}</div><br/>
				            
				            <h6 class="distance-heading text-muted mb-3">Estimated Distance from:</h6>
				            <ul class="list-group list-group-flush">
					          <li class="list-group-item">Lot 30: {{loc['lot30']}} mi</li>
					          <li class="list-group-item">Lot 26: {{loc['lot26']}} mi</li>
					          <li class="list-group-item">Lot 1: {{loc['lot1']}} mi</li>
					          <li class="list-group-item">Lot 9: {{loc['lot9']}} mi</li>
					          <li class="list-group-item">Lot 13: {{loc['lot13']}} mi</li>
					        </ul>
				            
				            <br/>
				            <a type="button" target="_blank" :href="'https://maps.apple.com/?ll='+loc[2]+'&q='+loc[0]" class="btn btn-primary btn-sm btn-block">Apple Maps</a> &nbsp
				         <a type="button" target="_blank" :href="'https://www.google.com/maps/dir/?api=1&destination='+loc[2]" class="btn btn-primary btn-sm btn-block">Google Maps</a>
				      </div>
				      <div class="card-footer">
				         <a type="button" target="_blank" :onclick="'navigator.share({ url: \'https://www.google.com/maps?q='+loc[2]+'\'})'" class="btn btn-primary btn-sm btn-block">Share This Location</a>
				      </div>
				   </div>
				</div>
		    </template>
			<br/>
		</div>
		
		
		
    </div>

    <!-- Import App -->
    <script src="./main.js"></script>

    <!-- Mount App -->
    <script>
    const mountedApp = app.mount('#app');
    //dark reader
	DarkReader.auto({
	    brightness: 100,
	    contrast: 100
	});
    </script>
    <script>
		//swipe right detection
document.addEventListener('swiped-right', function(e) {
			   window.parent.$('#iframeModal').modal('hide');
            });
	</script>
	<script src="/pwa/swipe.js"></script>
  </body>
</html>