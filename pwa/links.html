<!DOCTYPE html>
<html>
<head>
  <title>Useful Links</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/darkreader@4.9.58/darkreader.min.js"></script>
  <style>
	  .img-32{
		  height: 32px;
		  width: 32px;
	  }
	  p {
	    margin-top: 0;
	    margin-bottom: 0;
	}
	html, body {
		  overscroll-behavior-y: none;
		}
  </style>
</head>
<body>
  <div class="container">
	<br/>
    <div class="input-group mb-3" id="searchColomn"><input type="text" id="search" class="form-control" placeholder="Search" title="Search"><div class="input-group-append"><button type="button" class="btn" id="basic-addon2" onclick="document.getElementById('search').value = '';document.getElementById('search').dispatchEvent(new Event('input'));" style="background: rgb(13, 110, 253);"><font style="color: rgb(255, 255, 255);">X</font></button></div></div>
      <ul class="list-group" id="myList"></ul>
      <br/>
      <script type="text/javascript">

google.charts.load('current', {
  'packages': ['corechart', 'table', 'gauge', 'controls']
});

google.charts.setOnLoadCallback(drawLinks);

function drawLinks() {
  var query = new google.visualization.Query('https://docs.google.com/spreadsheets/d/1x2ZIfxx6TAxOy4yhQIMRyR-JDgY_rIclr-ugC0dnriM/gviz/tq?tqx=out:json');
  query.send(function(response) {
    if (response.isError()) {
      console.log('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
      return;
    }
    var data = response.getDataTable();
    var categories = [];
    var items = [];
    for (var i = 0; i < data.getNumberOfRows(); i++) {
      var category = data.getValue(i, 1);
      if (!categories.includes(category)) {
        categories.push(category);
        items[category] = [];
      }
      items[category].push({
        name: data.getValue(i, 0),
        link: data.getValue(i, 3),
        type: data.getValue(i, 1),
        desc: data.getValue(i, 2),
        img: data.getValue(i, 4),
        mobile: data.getValue(i, 7),
      });
    }
    var myList = document.getElementById('myList');
    for (var j = 0; j < categories.length; j++) {
      var category = categories[j];
      var title = document.createElement('h5');
      if(j==0){
	      title.innerText = category;
      }else{
	      title.innerText = "\n"+category;
      }
      myList.appendChild(title);
      for (var k = 0; k < items[category].length; k++) {
        var item = items[category][k];
        var li = document.createElement('li');
        li.classList.add('list-group-item');
        var img = document.createElement('img');
        img.src = item.img;
        img.alt = 'icon';
        img.classList.add('rounded-circle', 'me-3', 'img-32');
        li.appendChild(img);
        var a = document.createElement('a');
        a.href = item.link;
        a.target = "_blank";
        a.innerText = item.name;
        li.appendChild(a);
        myList.appendChild(li);
        var c = document.createElement('p');
        c.innerText = item.mobile;
        li.appendChild(c);
        myList.appendChild(li);
        var b = document.createElement('p');
        b.innerText = item.desc;
        li.appendChild(b);
        myList.appendChild(li);
      }
    }
    var search = document.getElementById('search');
    search.addEventListener('input', function() {
      var filter = search.value.toLowerCase();
      var items = document.querySelectorAll('li.list-group-item');
      for (var i = 0; i < items.length; i++) {
        var item = items[i];
        if (item.innerText.toLowerCase().indexOf(filter) > -1) {
          item.style.display = '';
        } else {
          item.style.display = 'none';
        }
      }
    });
  });
}


//swipe right detection
document.addEventListener('swiped-right', function(e) {
			   window.parent.$('#iframeModal').modal('hide');
            });


//dark reader
	DarkReader.auto({
	    brightness: 100,
	    contrast: 100
	});

      </script>
      <script src="swipe.js"></script>
  </div>
</body>
</html>
