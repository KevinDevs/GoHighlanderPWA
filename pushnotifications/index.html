<head>
<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(function(OneSignal) {
    OneSignal.init({
      appId: "028cf717-c126-4812-aa44-f73677bb58c6",
    });
  });
</script>
</head>
<body>
	<br/>
	<center><h1 id="subscription">Checking Subscription Status... <br/><br/>Your browser may not support Push Notifications</h1>
	<div class='onesignal-customlink-container'></div>
	<button id="btn-optin" class="btn btn-primary btn-sm btn-block" style="display: none" onclick="OneSignalDeferred.push(function() { OneSignal.User.PushSubscription.optIn(); }); this.disabled=true;">Opt-In Notifications</button>
	<button id="btn-optout" class="btn btn-primary btn-sm btn-block" style="display: none" onclick="OneSignalDeferred.push(function() { OneSignal.User.PushSubscription.optOut(); }); this.disabled=true;">Opt-Out Notifications</button>
	<button id="btn-request" class="btn btn-primary btn-sm btn-block" style="display: none" onclick="OneSignalDeferred.push(function() { OneSignal.Notifications.requestPermission(); }); this.disabled=true;">Subscribe for notifications</button>
	</center>
</body>
<script>
	function checkStatus(){
		/*document.getElementById("btn-optin").disabled = false;
		document.getElementById("btn-optout").disabled = false;
		document.getElementById("btn-request").disabled = false;*/
		if(OneSignal.Notifications.permission){
			//document.getElementById("btn-request").style = 'display: none';
			if(OneSignal.User.PushSubscription.optedIn){
				document.getElementById("subscription").textContent="Successfully Subscribed";
				/*document.getElementById("btn-optin").style = 'display: none';
				document.getElementById("btn-optout").style = '';*/
			}else{
				document.getElementById("subscription").textContent="Outped-Out from Subscription";
				/*document.getElementById("btn-optin").style = '';
				document.getElementById("btn-optout").style = 'display: none';*/
			}
		}else{
			document.getElementById("subscription").textContent="Please click the subscribe button to subscribe.";
			/*document.getElementById("btn-request").style = '';
			document.getElementById("btn-optin").style = 'display: none';
			document.getElementById("btn-optout").style = 'display: none';*/
		}
	}
	
	var intervalId = window.setInterval(function(){
	  checkStatus();
	}, 1000);
</script>
<script>
		//swipe right detection
document.addEventListener('swiped-right', function(e) {
			   window.parent.$('#iframeModal').modal('hide');
            });
	</script>
	<script src="/pwa/swipe.js"></script>